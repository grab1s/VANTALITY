if (_G.ExecutorChinaHat and (typeof(_G.ExecutorChinaHat.Stop)=="function")) then local v56=76 -(46 + 30) ;while true do if (v56==(0 -0)) then _G.ExecutorChinaHat:Stop();task.wait(0.1);break;end end end _G.ExecutorChinaHat={};local v0=_G.ExecutorChinaHat;local v1=game:GetService("Players");v0.Settings={Color=Color3.fromRGB(1660 -(666 + 739) ,689 -434 ,453 -198 ),Radius=2 + 0 ,Height=0.8,Transparency=0};v0.BeamSettings={BeamWidthStart=791.05 -(368 + 423) ,BeamWidthEnd=0.02 -0 ,NumberOfBeams=718 -(10 + 8) };v0.State={isEnabled=false,currentMode="Beam",activeHatObjects=nil,charAddedConn=nil,charRemovingConn=nil};v0.UpdateSetting=function(v15,v16,v17) local v18=(v16=="Radius") or (v16=="Height") ;if (v15.Settings[v16]~=nil) then v15.Settings[v16]=v17;elseif (v15.BeamSettings[v16]~=nil) then v15.BeamSettings[v16]=v17;v18=true;else local v91=0;while true do if (v91==(0 -0)) then warn("[ChinaHat] Attempted to update a non-existent setting:",v16);return;end end end if (v15.State.isEnabled and v15.State.activeHatObjects) then if (v18 and v1.LocalPlayer.Character) then v15:CreateHatOnCharacter(v1.LocalPlayer.Character);else v15:_ApplyVisualSettings();end end end;v0.SetHatMode=function(v19,v20) local v21=442 -(416 + 26) ;while true do if (v21==(3 -2)) then v19.State.currentMode=v20;if (v19.State.isEnabled and v1.LocalPlayer and v1.LocalPlayer.Character) then v19:CreateHatOnCharacter(v1.LocalPlayer.Character);end break;end if (v21==0) then if ((v20~="Beam") and (v20~="Cone")) then warn("[ChinaHat] Invalid hat mode:",v20,". Use 'Beam' or 'Cone'.");return;end if (v19.State.currentMode==v20) then return;end v21=1 + 0 ;end end end;v0._ApplyVisualSettings=function(v22) local v23=0 -0 ;while true do if (v23==0) then if  not v22.State.activeHatObjects then return;end if (v22.State.currentMode=="Beam") then for v107,v108 in ipairs(v22.State.activeHatObjects.Beams) do local v109=0;while true do if (v109==0) then v108.Color=ColorSequence.new(v22.Settings.Color);v108.Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,v22.Settings.Transparency),NumberSequenceKeypoint.new(1,v22.Settings.Transparency * 2 )});break;end end end elseif (v22.State.currentMode=="Cone") then local v110=v22.State.activeHatObjects.Adornment;if v110 then local v115=1486 -(998 + 488) ;while true do if (v115==(0 + 0)) then v110.Color3=v22.Settings.Color;v110.Transparency=v22.Settings.Transparency;break;end end end end break;end end end;v0._CreateBeamHat=function(v24,v25,v26) local v27={AnchorPart=v26,Beams={},Attachments={}};local v28=Instance.new("Attachment");v28.Position=Vector3.new(0 + 0 ,v24.Settings.Height,772 -(201 + 571) );v28.Parent=v26;table.insert(v27.Attachments,v28);for v57=1139 -(116 + 1022) ,v24.BeamSettings.NumberOfBeams do local v58=0 -0 ;local v59;local v60;local v61;local v62;local v63;while true do if (v58==(1 + 0)) then v62=Instance.new("Attachment");v62.Position=Vector3.new(v60,0 -0 ,v61);v62.Parent=v26;v58=7 -5 ;end if (v58==4) then v63.Width1=v24.BeamSettings.BeamWidthEnd;v63.Segments=2;v63.Parent=v26;v58=5;end if (v58==(861 -(814 + 45))) then table.insert(v27.Attachments,v62);v63=Instance.new("Beam");v63.Attachment0=v28;v58=7 -4 ;end if (v58==(1 + 4)) then table.insert(v27.Beams,v63);break;end if (v58==(0 + 0)) then v59=(v57/v24.BeamSettings.NumberOfBeams) * 2 * math.pi ;v60=v24.Settings.Radius * math.cos(v59) ;v61=v24.Settings.Radius * math.sin(v59) ;v58=886 -(261 + 624) ;end if ((4 -1)==v58) then v63.Attachment1=v62;v63.FaceCamera=true;v63.Width0=v24.BeamSettings.BeamWidthStart;v58=1084 -(1020 + 60) ;end end end return v27;end;v0._CreateConeHat=function(v31,v32,v33) local v34=1423 -(630 + 793) ;local v35;local v36;while true do if (v34==(6 -4)) then v36.Height=v31.Settings.Height;v36.CFrame=CFrame.Angles(math.rad(90),0 -0 ,0 + 0 );v34=9 -6 ;end if (1==v34) then v36.Adornee=v33;v36.Radius=v31.Settings.Radius;v34=1749 -(760 + 987) ;end if (v34==(1913 -(1789 + 124))) then v35={AnchorPart=v33};v36=Instance.new("ConeHandleAdornment");v34=767 -(745 + 21) ;end if (v34==4) then return v35;end if (v34==(2 + 1)) then v36.Parent=v33;v35.Adornment=v36;v34=10 -6 ;end end end;v0.CreateHatOnCharacter=function(v37,v38) local v39=0 -0 ;local v40;local v41;local v42;local v43;while true do if (v39==3) then v41.CanCollide=false;v41.Transparency=1 + 0 ;v41.Massless=true;v39=4 + 0 ;end if (v39==(1055 -(87 + 968))) then if  not v38 then return;end v37:DestroyHat();v40=v38:FindFirstChild("Head");v39=4 -3 ;end if (v39==(6 + 0)) then v43=nil;if (v37.State.currentMode=="Beam") then v43=v37:_CreateBeamHat(v40,v41);elseif (v37.State.currentMode=="Cone") then v43=v37:_CreateConeHat(v40,v41);end if v43 then v43.Weld=v42;v37.State.activeHatObjects=v43;v37:_ApplyVisualSettings();end break;end if (v39==4) then v42=Instance.new("WeldConstraint");v42.Part0=v40;v42.Part1=v41;v39=5;end if (v39==1) then if  not v40 then return;end if  not v40.Parent then v40.AncestryChanged:Wait();end v41=Instance.new("Part");v39=4 -2 ;end if (v39==(1415 -(447 + 966))) then v41.Name="ChinaHatAnchor";v41.Size=Vector3.new(0.1 -0 ,1817.1 -(1703 + 114) ,701.1 -(376 + 325) );v41.Anchored=false;v39=4 -1 ;end if (v39==5) then v42.Parent=v41;v41.CFrame=v40.CFrame * CFrame.new(0,0.5 -0 ,0 + 0 ) ;v41.Parent=workspace.CurrentCamera;v39=12 -6 ;end end end;v0.DestroyHat=function(v44) if (v44.State.activeHatObjects and v44.State.activeHatObjects.AnchorPart) then if v44.State.activeHatObjects.AnchorPart.Parent then v44.State.activeHatObjects.AnchorPart:Destroy();end end v44.State.activeHatObjects=nil;end;v0.Enable=function(v46) if v46.State.isEnabled then return;end v46.State.isEnabled=true;local v48=v1.LocalPlayer;if  not v48 then return;end local function v49(v64) local v65=14 -(9 + 5) ;while true do if (v65==0) then task.wait(376.2 -(85 + 291) );if (v46.State.isEnabled and v64 and v64.Parent) then v46:CreateHatOnCharacter(v64);end break;end end end v46.State.charAddedConn=v48.CharacterAdded:Connect(v49);v46.State.charRemovingConn=v48.CharacterRemoving:Connect(function(v66) if (v46.State.activeHatObjects and v46.State.activeHatObjects.Weld and (v46.State.activeHatObjects.Weld.Part0.Parent==v66)) then v46:DestroyHat();end end);if v48.Character then v49(v48.Character);end end;v0.Disable=function(v52) local v53=1265 -(243 + 1022) ;while true do if (v53==(7 -5)) then v52:DestroyHat();break;end if (v53==(1 + 0)) then if v52.State.charAddedConn then local v105=1180 -(1123 + 57) ;while true do if (v105==(0 + 0)) then v52.State.charAddedConn:Disconnect();v52.State.charAddedConn=nil;break;end end end if v52.State.charRemovingConn then local v106=0;while true do if (0==v106) then v52.State.charRemovingConn:Disconnect();v52.State.charRemovingConn=nil;break;end end end v53=2;end if (v53==(254 -(163 + 91))) then if  not v52.State.isEnabled then return;end v52.State.isEnabled=false;v53=1;end end end;v0.Stop=function(v54) local v55=1930 -(1869 + 61) ;while true do if (v55==(0 + 0)) then v54:Disable();if (_G.ExecutorChinaHat==v54) then _G.ExecutorChinaHat=nil;end break;end end end;return v0;
