local v0=(getgenv and getgenv()) or _G ;if (v0.ExecutorPlayerArrows_Instance and (typeof(v0.ExecutorPlayerArrows_Instance.Destroy)=="function")) then pcall(v0.ExecutorPlayerArrows_Instance.Destroy);task.wait(0.1);end v0.ExecutorPlayerArrows_Instance=nil;v0.ExecutorPlayerArrows=v0.ExecutorPlayerArrows or {} ;local v3=v0.ExecutorPlayerArrows;local v4="ExecutorPlayerArrows_vFinal";local v5=game:GetService("Players");local v6=game:GetService("RunService");local v7=v5.LocalPlayer;local v8=workspace.CurrentCamera;if  not game:IsLoaded() then game.Loaded:Wait();end task.wait(1237.5 -(13 + 1224) );v3.Settings=v3.Settings or {ARROW_IMAGE_ID="rbxassetid://4862800922",RenderDistance=1091 -(368 + 423) ,RingRadius=120,ArrowBaseSizeXY=32,ArrowTransparency=0.1,MaxVisibleArrows=0 -0 ,EnableDynamicSize=true,MinArrowScale=18.5 -(10 + 8) ,MaxArrowScale=3.5 -2 ,NearDistanceForScaling=30,FarDistanceForScaling=592 -(416 + 26) ,EnableDynamicColor=true,ArrowColorFar=Color3.fromRGB(255 -175 ,200,35 + 45 ),ArrowColorNear=Color3.fromRGB(255,141 -61 ,518 -(145 + 293) ),INTERNAL_NEAR_COLOR_DIST=435 -(44 + 386) ,INTERNAL_FAR_COLOR_DIST=1586 -(998 + 488) } ;local v10=v3.Settings;v3.State=v3.State or {isEnabled=false,isInitialized=false,screenGui=nil,activePlayerArrows={},runConnection=nil,playerAddedConn=nil,playerRemovingConn=nil} ;local v12=v3.State;local function v13(v24) if ( not v24 or (v24==v7) or  not v24.Character or  not v24.Character:FindFirstChild("HumanoidRootPart") or  not v24.Character:FindFirstChildOfClass("Humanoid") or (v24.Character.Humanoid.Health<=(0 + 0))) then return false;end return true;end local function v14(v25,v26,v27) return v25 + ((v26-v25) * v27) ;end local function v15(v28,v29,v30) if ((v29-v28)==0) then return 0 + 0 ;end return (v30-v28)/(v29-v28) ;end v3.CreateScreenGui_Internal=function(v31) if (v12.screenGui and v12.screenGui.Parent) then return v12.screenGui;end local v32=Instance.new("ScreenGui");v32.Name=v4   .. "_ScreenGui" ;v32.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;v32.ResetOnSpawn=false;v12.screenGui=v32;local v38=(v7 and v7:FindFirstChildOfClass("PlayerGui")) or game:GetService("CoreGui") ;if v38 then v32.Parent=v38;else local v87=772 -(201 + 571) ;while true do if (v87==(1138 -(116 + 1022))) then warn(v4   .. ": Не удалось найти PlayerGui/CoreGui." );return nil;end end end return v32;end;v3.CreateArrowImage_Internal=function(v39) local v40=0 -0 ;local v41;while true do if (v40==(1 + 0)) then v41.Name="DirectionArrow";v41.Image=v10.ARROW_IMAGE_ID;v41.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY,v10.ArrowBaseSizeXY);v40=7 -5 ;end if (v40==(0 -0)) then if ( not v12.screenGui or  not v12.screenGui.Parent) then v39:CreateScreenGui_Internal();end if  not v12.screenGui then return nil;end v41=Instance.new("ImageLabel");v40=860 -(814 + 45) ;end if (v40==3) then v41.Visible=false;v41.Parent=v12.screenGui;return v41;end if (v40==(4 -2)) then v41.AnchorPoint=Vector2.new(0.5 + 0 ,0.5);v41.BackgroundTransparency=1 + 0 ;v41.ImageTransparency=v10.ArrowTransparency;v40=888 -(261 + 624) ;end end end;v3.UpdateArrows_Internal=function(v42) if  not v12.isEnabled then for v105,v106 in pairs(v12.activePlayerArrows) do if v106.ArrowImageLabel then v106.ArrowImageLabel.Visible=false;end end return;end if ( not v7 or  not v7.Character or  not v7.Character:FindFirstChild("HumanoidRootPart")) then for v107,v108 in pairs(v12.activePlayerArrows) do if v108.ArrowImageLabel then v108.ArrowImageLabel.Visible=false;end end return;end if  not v8 then local v88=0 -0 ;while true do if ((1080 -(1020 + 60))==v88) then v8=workspace.CurrentCamera;if  not v8 then return;end break;end end end local v43=v7.Character.HumanoidRootPart.Position;local v44=v8.CFrame;local v45=v8.ViewportSize;local v46=Vector2.new(v45.X/(1425 -(630 + 793)) ,v45.Y/(6 -4) );local v47={};for v63,v64 in ipairs(v5:GetPlayers()) do if v13(v64) then local v109=v64.Character.HumanoidRootPart;local v110=(v43-v109.Position).Magnitude;if (v110<=v10.RenderDistance) then table.insert(v47,{Player=v64,HRP_Pos=v109.Position,Distance=v110});end end end if ((v10.MaxVisibleArrows>(0 -0)) and ( #v47>v10.MaxVisibleArrows)) then table.sort(v47,function(v111,v112) return v111.Distance<v112.Distance ;end);end local v48={};local v49=((v10.MaxVisibleArrows>0) and math.min( #v47,v10.MaxVisibleArrows)) or  #v47 ;for v65=1 + 0 ,v49 do v48[v47[v65].Player]=true;end for v67,v68 in pairs(v12.activePlayerArrows) do if ( not v48[v67] or  not v67.Parent) then if v68.ArrowImageLabel then v68.ArrowImageLabel.Visible=false;end end end for v69=1,v49 do local v70=0 -0 ;local v71;local v72;local v73;local v74;local v75;local v76;local v77;local v78;local v79;local v80;local v81;local v82;local v83;local v84;while true do if (v70==(1748 -(760 + 987))) then v74=v71.Distance;v75=v12.activePlayerArrows[v72];if ( not v75 or  not v75.ArrowImageLabel or  not v75.ArrowImageLabel.Parent) then local v152=v42:CreateArrowImage_Internal();if  not v152 then continue;end v75={ArrowImageLabel=v152};v12.activePlayerArrows[v72]=v75;end v70=1915 -(1789 + 124) ;end if (v70==2) then v76=v75.ArrowImageLabel;v76.Image=v10.ARROW_IMAGE_ID;v76.ImageTransparency=v10.ArrowTransparency;v70=3;end if (v70==(769 -(745 + 21))) then v77=v73-v44.Position ;if (v77.Magnitude<(0.1 + 0)) then local v154=0 -0 ;while true do if (v154==0) then v76.Visible=false;continue;break;end end end v77=v77.Unit;v70=15 -11 ;end if ((1 + 4)==v70) then v81=v77:Dot(v78);v82=math.atan2(v80,v81);v83=v46.X + (math.sin(v82) * v10.RingRadius) ;v70=6;end if (v70==6) then v84=v46.Y-(math.cos(v82) * v10.RingRadius) ;v76.Position=UDim2.fromOffset(v83,v84);v76.Rotation=math.deg(v82);v70=7;end if ((4 + 0)==v70) then v78=v44.LookVector;v79=v44.RightVector;v80=v77:Dot(v79);v70=1060 -(87 + 968) ;end if (v70==0) then v71=v47[v69];v72=v71.Player;v73=v71.HRP_Pos;v70=4 -3 ;end if (v70==7) then if v10.EnableDynamicColor then local v155=0 + 0 ;local v156;while true do if (v155==(0 -0)) then v156=math.clamp(v15(v10.INTERNAL_FAR_COLOR_DIST,v10.INTERNAL_NEAR_COLOR_DIST,v74),1413 -(447 + 966) ,1);v76.ImageColor3=v10.ArrowColorFar:Lerp(v10.ArrowColorNear,v156);break;end end else v76.ImageColor3=v10.ArrowColorFar;end if v10.EnableDynamicSize then local v159=0 -0 ;local v160;local v161;while true do if (v159==(1817 -(1703 + 114))) then v160=math.clamp(v15(v10.FarDistanceForScaling,v10.NearDistanceForScaling,v74),701 -(376 + 325) ,1 -0 );v161=v14(v10.MinArrowScale,v10.MaxArrowScale,v160);v159=2 -1 ;end if (v159==(1 + 0)) then v76.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY * v161 ,v10.ArrowBaseSizeXY * v161 );break;end end else v76.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY,v10.ArrowBaseSizeXY);end v76.Visible=true;break;end end end end;v3.ManagePlayer_Internal=function(v50,v51,v52) if v52 then if (v12.activePlayerArrows[v51] and ( not v12.activePlayerArrows[v51].ArrowImageLabel or  not v12.activePlayerArrows[v51].ArrowImageLabel.Parent)) then v12.activePlayerArrows[v51]=nil;end else local v89=v12.activePlayerArrows[v51];if (v89 and v89.ArrowImageLabel) then v89.ArrowImageLabel:Destroy();end v12.activePlayerArrows[v51]=nil;end end;v3.Enable=function(v53) if (v12.isInitialized and v12.isEnabled) then return;end v12.isEnabled=true;if  not v12.isInitialized then local v91=0 -0 ;while true do if (v91==(16 -(9 + 5))) then if (v12.playerAddedConn and v12.playerAddedConn.Connected) then v12.playerAddedConn:Disconnect();end v12.playerAddedConn=v5.PlayerAdded:Connect(function(v163) v53:ManagePlayer_Internal(v163,true);end);if (v12.playerRemovingConn and v12.playerRemovingConn.Connected) then v12.playerRemovingConn:Disconnect();end v91=379 -(85 + 291) ;end if (v91==(1268 -(243 + 1022))) then v12.playerRemovingConn=v5.PlayerRemoving:Connect(function(v164) v53:ManagePlayer_Internal(v164,false);end);v12.isInitialized=true;break;end if (v91==0) then if  not v8 then v8=workspace.CurrentCamera;end if  not v8 then warn(v4   .. ": Камера не найдена!" );v12.isEnabled=false;return;end if  not v7 then warn(v4   .. ": Локальный игрок не найден!" );v12.isEnabled=false;return;end v91=1;end if (v91==(3 -2)) then v53:CreateScreenGui_Internal();if  not v12.screenGui then local v172=0 + 0 ;while true do if (v172==(1180 -(1123 + 57))) then v12.isEnabled=false;return;end end end for v165,v166 in ipairs(v5:GetPlayers()) do v53:ManagePlayer_Internal(v166,true);end v91=2 + 0 ;end end end if  not (v12.runConnection and v12.runConnection.Connected) then v12.runConnection=v6.RenderStepped:Connect(function() v53:UpdateArrows_Internal();end);end if v12.screenGui then v12.screenGui.Enabled=true;end end;v3.Disable=function(v55) local v56=254 -(163 + 91) ;while true do if (v56==0) then if  not v12.isEnabled then return;end v12.isEnabled=false;v56=1931 -(1869 + 61) ;end if (v56==(1 + 0)) then if v12.screenGui then v12.screenGui.Enabled=false;end break;end end end;v3.UpdateSetting=function(v57,v58,v59) local v60=0;while true do if (v60==(3 -2)) then if (v12.isEnabled and ((v58=="ArrowBaseSizeXY") or (v58=="ArrowTransparency") or (v58=="ARROW_IMAGE_ID"))) then for v167,v168 in pairs(v12.activePlayerArrows) do if (v168.ArrowImageLabel and v168.ArrowImageLabel.Visible) then if (v58=="ArrowTransparency") then v168.ArrowImageLabel.ImageTransparency=v10.ArrowTransparency;end if (v58=="ARROW_IMAGE_ID") then v168.ArrowImageLabel.Image=v10.ARROW_IMAGE_ID;end end end end break;end if (v60==(0 -0)) then if (v10[v58]==nil) then local v147=0 + 0 ;while true do if (v147==(0 -0)) then warn(v4   .. ": Неизвестная настройка:" ,v58);return;end end end v10[v58]=v59;v60=1 + 0 ;end end end;v3.Destroy=function(v61) local v62=1474 -(1329 + 145) ;while true do if (v62==(973 -(140 + 831))) then if v12.screenGui then v12.screenGui:Destroy();v12.screenGui=nil;end v12.isInitialized=false;v12.isEnabled=false;v62=1853 -(1409 + 441) ;end if (v62==0) then if ( not v12.isInitialized and  not v12.isEnabled) then return;end if v12.runConnection then local v149=718 -(15 + 703) ;while true do if (v149==0) then v12.runConnection:Disconnect();v12.runConnection=nil;break;end end end if v12.playerAddedConn then v12.playerAddedConn:Disconnect();v12.playerAddedConn=nil;end v62=1 + 0 ;end if ((439 -(262 + 176))==v62) then if v12.playerRemovingConn then local v151=1721 -(345 + 1376) ;while true do if (v151==(688 -(198 + 490))) then v12.playerRemovingConn:Disconnect();v12.playerRemovingConn=nil;break;end end end for v137,v138 in pairs(v12.activePlayerArrows) do if v138.ArrowImageLabel then v138.ArrowImageLabel:Destroy();end end v12.activePlayerArrows={};v62=8 -6 ;end if (v62==(6 -3)) then v0.ExecutorPlayerArrows=nil;v0.ExecutorPlayerArrows_Instance=nil;break;end end end;v0.ExecutorPlayerArrows_Instance=v3;if  not v8 then v8=workspace.CurrentCamera;end
