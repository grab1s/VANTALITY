local v0=(getgenv and getgenv()) or _G ;if (v0.ExecutorPlayerArrows_Instance and (typeof(v0.ExecutorPlayerArrows_Instance.Destroy)=="function")) then local v64=0;while true do if (v64==0) then pcall(v0.ExecutorPlayerArrows_Instance.Destroy);task.wait(0.1 + 0 );break;end end end v0.ExecutorPlayerArrows_Instance=nil;v0.ExecutorPlayerArrows=v0.ExecutorPlayerArrows or {} ;local v3=v0.ExecutorPlayerArrows;local v4="ExecutorPlayerArrows_vFinal";local v5=game:GetService("Players");local v6=game:GetService("RunService");local v7=v5.LocalPlayer;local v8=workspace.CurrentCamera;if  not game:IsLoaded() then game.Loaded:Wait();end task.wait(0.5 -0 );v3.Settings=v3.Settings or {ARROW_IMAGE_ID="rbxassetid://4862800922",RenderDistance=656 -356 ,RingRadius=120,ArrowBaseSizeXY=6 + 26 ,ArrowTransparency=0.1 -0 ,MaxVisibleArrows=0 + 0 ,EnableDynamicSize=true,MinArrowScale=0.5,MaxArrowScale=792.5 -(368 + 423) ,NearDistanceForScaling=30,FarDistanceForScaling=471 -321 ,EnableDynamicColor=true,ArrowColorFar=Color3.fromRGB(98 -(10 + 8) ,769 -569 ,522 -(416 + 26) ),ArrowColorNear=Color3.fromRGB(814 -559 ,35 + 45 ,141 -61 ),INTERNAL_NEAR_COLOR_DIST=443 -(145 + 293) ,INTERNAL_FAR_COLOR_DIST=100} ;local v10=v3.Settings;v3.State=v3.State or {isEnabled=false,isInitialized=false,screenGui=nil,activePlayerArrows={},runConnection=nil,playerAddedConn=nil,playerRemovingConn=nil} ;local v12=v3.State;local function v13(v24) local v25=430 -(44 + 386) ;while true do if (v25==(1486 -(998 + 488))) then if ( not v24 or (v24==v7) or  not v24.Character or  not v24.Character:FindFirstChild("HumanoidRootPart") or  not v24.Character:FindFirstChildOfClass("Humanoid") or (v24.Character.Humanoid.Health<=(0 + 0))) then return false;end return true;end end end local function v14(v26,v27,v28) return v26 + ((v27-v26) * v28) ;end local function v15(v29,v30,v31) if ((v30-v29)==(0 + 0)) then return 0;end return (v31-v29)/(v30-v29) ;end v3.CreateScreenGui_Internal=function(v32) if (v12.screenGui and v12.screenGui.Parent) then return v12.screenGui;end local v33=Instance.new("ScreenGui");v33.Name=v4   .. "_ScreenGui" ;v33.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;v33.ResetOnSpawn=false;v12.screenGui=v33;local v39=(v7 and v7:FindFirstChildOfClass("PlayerGui")) or game:GetService("CoreGui") ;if v39 then v33.Parent=v39;else local v80=772 -(201 + 571) ;while true do if (v80==(1138 -(116 + 1022))) then warn(v4   .. ": Не удалось найти PlayerGui/CoreGui." );return nil;end end end return v33;end;v3.CreateArrowImage_Internal=function(v40) local v41=0 -0 ;local v42;while true do if (v41==(0 + 0)) then if ( not v12.screenGui or  not v12.screenGui.Parent) then v40:CreateScreenGui_Internal();end if  not v12.screenGui then return nil;end v42=Instance.new("ImageLabel");v41=3 -2 ;end if (v41==3) then v42.Visible=false;v42.Parent=v12.screenGui;return v42;end if (v41==(7 -5)) then v42.AnchorPoint=Vector2.new(859.5 -(814 + 45) ,0.5 -0 );v42.BackgroundTransparency=1;v42.ImageTransparency=v10.ArrowTransparency;v41=1 + 2 ;end if (v41==1) then v42.Name="DirectionArrow";v42.Image=v10.ARROW_IMAGE_ID;v42.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY,v10.ArrowBaseSizeXY);v41=1 + 1 ;end end end;v3.UpdateArrows_Internal=function(v43) if  not v12.isEnabled then local v81=885 -(261 + 624) ;while true do if (v81==(0 -0)) then for v147,v148 in pairs(v12.activePlayerArrows) do if v148.ArrowImageLabel then v148.ArrowImageLabel.Visible=false;end end return;end end end if ( not v7 or  not v7.Character or  not v7.Character:FindFirstChild("HumanoidRootPart")) then local v82=1080 -(1020 + 60) ;while true do if (v82==0) then for v149,v150 in pairs(v12.activePlayerArrows) do if v150.ArrowImageLabel then v150.ArrowImageLabel.Visible=false;end end return;end end end if  not v8 then local v83=1423 -(630 + 793) ;while true do if (v83==0) then v8=workspace.CurrentCamera;if  not v8 then return;end break;end end end local v44=v7.Character.HumanoidRootPart.Position;local v45=v8.CFrame;local v46=v8.ViewportSize;local v47=Vector2.new(v46.X/2 ,v46.Y/2 );local v48={};for v65,v66 in ipairs(v5:GetPlayers()) do if v13(v66) then local v102=0 -0 ;local v103;local v104;while true do if (v102==(4 -3)) then if (v104<=v10.RenderDistance) then table.insert(v48,{Player=v66,HRP_Pos=v103.Position,Distance=v104});end break;end if ((0 + 0)==v102) then v103=v66.Character.HumanoidRootPart;v104=(v44-v103.Position).Magnitude;v102=3 -2 ;end end end end if ((v10.MaxVisibleArrows>(1747 -(760 + 987))) and ( #v48>v10.MaxVisibleArrows)) then table.sort(v48,function(v105,v106) return v105.Distance<v106.Distance ;end);end local v49={};local v50=((v10.MaxVisibleArrows>(1913 -(1789 + 124))) and math.min( #v48,v10.MaxVisibleArrows)) or  #v48 ;for v67=767 -(745 + 21) ,v50 do v49[v48[v67].Player]=true;end for v69,v70 in pairs(v12.activePlayerArrows) do if ( not v49[v69] or  not v69.Parent) then if v70.ArrowImageLabel then v70.ArrowImageLabel.Visible=false;end end end for v71=1,v50 do local v72=v48[v71];local v73=v72.Player;local v74=v72.HRP_Pos;local v75=v72.Distance;local v76=v12.activePlayerArrows[v73];local v77=true;if ( not v76 or  not v76.ArrowImageLabel or  not v76.ArrowImageLabel.Parent) then local v107=0 + 0 ;local v108;while true do if (v107==(0 -0)) then v108=v43:CreateArrowImage_Internal();if  not v108 then v77=false;else v76={ArrowImageLabel=v108};v12.activePlayerArrows[v73]=v76;end break;end end end if v77 then local v109=v76.ArrowImageLabel;v109.Image=v10.ARROW_IMAGE_ID;v109.ImageTransparency=v10.ArrowTransparency;local v114=v74-v45.Position ;if (v114.Magnitude<(0.1 -0)) then v109.Visible=false;else v114=v114.Unit;local v129=v45.LookVector;local v130=v45.RightVector;local v131=v114:Dot(v130);local v132=v114:Dot(v129);local v133=math.atan2(v131,v132);local v134=v47.X + (math.sin(v133) * v10.RingRadius) ;local v135=v47.Y-(math.cos(v133) * v10.RingRadius) ;v109.Position=UDim2.fromOffset(v134,v135);v109.Rotation=math.deg(v133);if v10.EnableDynamicColor then local v157=0;local v158;while true do if (v157==(0 + 0)) then v158=math.clamp(v15(v10.INTERNAL_FAR_COLOR_DIST,v10.INTERNAL_NEAR_COLOR_DIST,v75),0 + 0 ,1056 -(87 + 968) );v109.ImageColor3=v10.ArrowColorFar:Lerp(v10.ArrowColorNear,v158);break;end end else v109.ImageColor3=v10.ArrowColorFar;end if v10.EnableDynamicSize then local v161=0 -0 ;local v162;local v163;while true do if (v161==(0 + 0)) then v162=math.clamp(v15(v10.FarDistanceForScaling,v10.NearDistanceForScaling,v75),0 -0 ,1);v163=v14(v10.MinArrowScale,v10.MaxArrowScale,v162);v161=1414 -(447 + 966) ;end if (v161==(2 -1)) then v109.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY * v163 ,v10.ArrowBaseSizeXY * v163 );break;end end else v109.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY,v10.ArrowBaseSizeXY);end v109.Visible=true;end end end end;v3.ManagePlayer_Internal=function(v51,v52,v53) if v53 then if (v12.activePlayerArrows[v52] and ( not v12.activePlayerArrows[v52].ArrowImageLabel or  not v12.activePlayerArrows[v52].ArrowImageLabel.Parent)) then v12.activePlayerArrows[v52]=nil;end else local v84=v12.activePlayerArrows[v52];if (v84 and v84.ArrowImageLabel) then v84.ArrowImageLabel:Destroy();end v12.activePlayerArrows[v52]=nil;end end;v3.Enable=function(v54) if (v12.isInitialized and v12.isEnabled) then return;end v12.isEnabled=true;if  not v12.isInitialized then local v86=1817 -(1703 + 114) ;while true do if (v86==3) then v12.playerRemovingConn=v5.PlayerRemoving:Connect(function(v153) v54:ManagePlayer_Internal(v153,false);end);v12.isInitialized=true;break;end if (v86==(703 -(376 + 325))) then if (v12.playerAddedConn and v12.playerAddedConn.Connected) then v12.playerAddedConn:Disconnect();end v12.playerAddedConn=v5.PlayerAdded:Connect(function(v154) v54:ManagePlayer_Internal(v154,true);end);if (v12.playerRemovingConn and v12.playerRemovingConn.Connected) then v12.playerRemovingConn:Disconnect();end v86=4 -1 ;end if (v86==(0 -0)) then if  not v8 then v8=workspace.CurrentCamera;end if  not v8 then local v166=0 + 0 ;while true do if (v166==(0 -0)) then warn(v4   .. ": Камера не найдена!" );v12.isEnabled=false;v166=15 -(9 + 5) ;end if (v166==(377 -(85 + 291))) then return;end end end if  not v7 then local v167=0;while true do if (v167==(1265 -(243 + 1022))) then warn(v4   .. ": Локальный игрок не найден!" );v12.isEnabled=false;v167=3 -2 ;end if (v167==(1 + 0)) then return;end end end v86=1181 -(1123 + 57) ;end if (v86==(1 + 0)) then v54:CreateScreenGui_Internal();if  not v12.screenGui then v12.isEnabled=false;return;end for v155,v156 in ipairs(v5:GetPlayers()) do v54:ManagePlayer_Internal(v156,true);end v86=2;end end end if  not (v12.runConnection and v12.runConnection.Connected) then v12.runConnection=v6.RenderStepped:Connect(function() v54:UpdateArrows_Internal();end);end if v12.screenGui then v12.screenGui.Enabled=true;end end;v3.Disable=function(v56) if  not v12.isEnabled then return;end v12.isEnabled=false;if v12.screenGui then v12.screenGui.Enabled=false;end end;v3.UpdateSetting=function(v58,v59,v60) if (v10[v59]==nil) then local v90=0;while true do if (0==v90) then warn(v4   .. ": Неизвестная настройка:" ,v59);return;end end end v10[v59]=v60;if (v12.isEnabled and ((v59=="ArrowBaseSizeXY") or (v59=="ArrowTransparency") or (v59=="ARROW_IMAGE_ID"))) then for v115,v116 in pairs(v12.activePlayerArrows) do if (v116.ArrowImageLabel and v116.ArrowImageLabel.Visible) then local v142=254 -(163 + 91) ;while true do if (v142==0) then if (v59=="ArrowTransparency") then v116.ArrowImageLabel.ImageTransparency=v10.ArrowTransparency;end if (v59=="ARROW_IMAGE_ID") then v116.ArrowImageLabel.Image=v10.ARROW_IMAGE_ID;end break;end end end end end end;v3.Destroy=function(v62) local v63=1930 -(1869 + 61) ;while true do if (v63==1) then for v123,v124 in pairs(v12.activePlayerArrows) do if v124.ArrowImageLabel then v124.ArrowImageLabel:Destroy();end end v12.activePlayerArrows={};if v12.screenGui then v12.screenGui:Destroy();v12.screenGui=nil;end v12.isInitialized=false;v63=1 + 1 ;end if (v63==(0 -0)) then if ( not v12.isInitialized and  not v12.isEnabled) then return;end if v12.runConnection then v12.runConnection:Disconnect();v12.runConnection=nil;end if v12.playerAddedConn then local v145=0 -0 ;while true do if (v145==0) then v12.playerAddedConn:Disconnect();v12.playerAddedConn=nil;break;end end end if v12.playerRemovingConn then local v146=0 + 0 ;while true do if (0==v146) then v12.playerRemovingConn:Disconnect();v12.playerRemovingConn=nil;break;end end end v63=1 -0 ;end if (v63==(2 + 0)) then v12.isEnabled=false;v0.ExecutorPlayerArrows=nil;v0.ExecutorPlayerArrows_Instance=nil;break;end end end;v0.ExecutorPlayerArrows_Instance=v3;if  not v8 then v8=workspace.CurrentCamera;end

-- arrows
