local v0=(getgenv and getgenv()) or _G ;if (v0.ExecutorPlayerArrows_Instance and (typeof(v0.ExecutorPlayerArrows_Instance.Destroy)=="function")) then pcall(v0.ExecutorPlayerArrows_Instance.Destroy);task.wait(350.1 -(87 + 263) );end v0.ExecutorPlayerArrows_Instance=nil;v0.ExecutorPlayerArrows=v0.ExecutorPlayerArrows or {} ;local v3=v0.ExecutorPlayerArrows;local v4="ExecutorPlayerArrows_vFinal";local v5=game:GetService("Players");local v6=game:GetService("RunService");local v7=v5.LocalPlayer;local v8=workspace.CurrentCamera;if  not game:IsLoaded() then game.Loaded:Wait();end task.wait(180.5 -(67 + 113) );v3.Settings=v3.Settings or {ARROW_IMAGE_ID="rbxassetid://4862800922",RenderDistance=220 + 80 ,RingRadius=294 -174 ,ArrowBaseSizeXY=24 + 8 ,ArrowTransparency=0.1 -0 ,MaxVisibleArrows=952 -(802 + 150) ,EnableDynamicSize=true,MinArrowScale=0.5 -0 ,MaxArrowScale=1.5 -0 ,NearDistanceForScaling=22 + 8 ,FarDistanceForScaling=150,EnableDynamicColor=true,ArrowColorFar=Color3.fromRGB(1077 -(915 + 82) ,566 -366 ,80),ArrowColorNear=Color3.fromRGB(149 + 106 ,105 -25 ,1267 -(1069 + 118) ),INTERNAL_NEAR_COLOR_DIST=5,INTERNAL_FAR_COLOR_DIST=226 -126 } ;local v10=v3.Settings;v3.State=v3.State or {isEnabled=false,isInitialized=false,screenGui=nil,activePlayerArrows={},runConnection=nil,playerAddedConn=nil,playerRemovingConn=nil} ;local v12=v3.State;local function v13(v24) local v25=0 -0 ;while true do if (v25==(0 + 0)) then if ( not v24 or (v24==v7) or  not v24.Character or  not v24.Character:FindFirstChild("HumanoidRootPart") or  not v24.Character:FindFirstChildOfClass("Humanoid") or (v24.Character.Humanoid.Health<=(0 -0))) then return false;end return true;end end end local function v14(v26,v27,v28) return v26 + ((v27-v26) * v28) ;end local function v15(v29,v30,v31) local v32=0 + 0 ;while true do if (v32==(791 -(368 + 423))) then if ((v30-v29)==(0 -0)) then return 18 -(10 + 8) ;end return (v31-v29)/(v30-v29) ;end end end v3.CreateScreenGui_Internal=function(v33) if (v12.screenGui and v12.screenGui.Parent) then return v12.screenGui;end local v34=Instance.new("ScreenGui");v34.Name=v4   .. "_ScreenGui" ;v34.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;v34.ResetOnSpawn=false;v12.screenGui=v34;local v40=(v7 and v7:FindFirstChildOfClass("PlayerGui")) or game:GetService("CoreGui") ;if v40 then v34.Parent=v40;else warn(v4   .. ": Не удалось найти PlayerGui/CoreGui." );return nil;end return v34;end;v3.CreateArrowImage_Internal=function(v41) if ( not v12.screenGui or  not v12.screenGui.Parent) then v41:CreateScreenGui_Internal();end if  not v12.screenGui then return nil;end local v42=Instance.new("ImageLabel");v42.Name="DirectionArrow";v42.Image=v10.ARROW_IMAGE_ID;v42.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY,v10.ArrowBaseSizeXY);v42.AnchorPoint=Vector2.new(0.5,0.5 -0 );v42.BackgroundTransparency=443 -(416 + 26) ;v42.ImageTransparency=v10.ArrowTransparency;v42.Visible=false;v42.Parent=v12.screenGui;return v42;end;v3.UpdateArrows_Internal=function(v54) if  not v12.isEnabled then local v112=0 -0 ;while true do if (v112==(0 + 0)) then for v158,v159 in pairs(v12.activePlayerArrows) do if v159.ArrowImageLabel then v159.ArrowImageLabel.Visible=false;end end return;end end end if ( not v7 or  not v7.Character or  not v7.Character:FindFirstChild("HumanoidRootPart")) then local v113=0 -0 ;while true do if (v113==(438 -(145 + 293))) then for v160,v161 in pairs(v12.activePlayerArrows) do if v161.ArrowImageLabel then v161.ArrowImageLabel.Visible=false;end end return;end end end if  not v8 then v8=workspace.CurrentCamera;if  not v8 then return;end end local v55=v7.Character.HumanoidRootPart.Position;local v56=v8.CFrame;local v57=v8.ViewportSize;local v58=Vector2.new(v57.X/(432 -(44 + 386)) ,v57.Y/2 );local v59={};for v79,v80 in ipairs(v5:GetPlayers()) do if v13(v80) then local v127=0;local v128;local v129;while true do if (v127==(1487 -(998 + 488))) then if (v129<=v10.RenderDistance) then table.insert(v59,{Player=v80,HRP_Pos=v128.Position,Distance=v129});end break;end if (v127==0) then v128=v80.Character.HumanoidRootPart;v129=(v55-v128.Position).Magnitude;v127=1 + 0 ;end end end end if ((v10.MaxVisibleArrows>(0 + 0)) and ( #v59>v10.MaxVisibleArrows)) then table.sort(v59,function(v130,v131) return v130.Distance<v131.Distance ;end);end local v60={};local v61=((v10.MaxVisibleArrows>0) and math.min( #v59,v10.MaxVisibleArrows)) or  #v59 ;for v81=1,v61 do v60[v59[v81].Player]=true;end for v83,v84 in pairs(v12.activePlayerArrows) do if ( not v60[v83] or  not v83.Parent) then if v84.ArrowImageLabel then v84.ArrowImageLabel.Visible=false;end end end for v85=1,v61 do local v86=v59[v85];local v87=v86.Player;local v88=v86.HRP_Pos;local v89=v86.Distance;local v90=v12.activePlayerArrows[v87];if ( not v90 or  not v90.ArrowImageLabel or  not v90.ArrowImageLabel.Parent) then local v132=v54:CreateArrowImage_Internal();if  not v132 then continue;end v90={ArrowImageLabel=v132};v12.activePlayerArrows[v87]=v90;end local v91=v90.ArrowImageLabel;v91.Image=v10.ARROW_IMAGE_ID;v91.ImageTransparency=v10.ArrowTransparency;local v96=v88-v56.Position ;if (v96.Magnitude<(772.1 -(201 + 571))) then v91.Visible=false;continue;end v96=v96.Unit;local v98=v56.LookVector;local v99=v56.RightVector;local v100=v96:Dot(v99);local v101=v96:Dot(v98);local v102=math.atan2(v100,v101);local v103=v58.X + (math.sin(v102) * v10.RingRadius) ;local v104=v58.Y-(math.cos(v102) * v10.RingRadius) ;v91.Position=UDim2.fromOffset(v103,v104);v91.Rotation=math.deg(v102);if v10.EnableDynamicColor then local v135=math.clamp(v15(v10.INTERNAL_FAR_COLOR_DIST,v10.INTERNAL_NEAR_COLOR_DIST,v89),1138 -(116 + 1022) ,1);v91.ImageColor3=v10.ArrowColorFar:Lerp(v10.ArrowColorNear,v135);else v91.ImageColor3=v10.ArrowColorFar;end if v10.EnableDynamicSize then local v139=0;local v140;local v141;while true do if (v139==(4 -3)) then v91.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY * v141 ,v10.ArrowBaseSizeXY * v141 );break;end if ((0 + 0)==v139) then v140=math.clamp(v15(v10.FarDistanceForScaling,v10.NearDistanceForScaling,v89),0 -0 ,3 -2 );v141=v14(v10.MinArrowScale,v10.MaxArrowScale,v140);v139=860 -(814 + 45) ;end end else v91.Size=UDim2.fromOffset(v10.ArrowBaseSizeXY,v10.ArrowBaseSizeXY);end v91.Visible=true;end end;v3.ManagePlayer_Internal=function(v62,v63,v64) if v64 then if (v12.activePlayerArrows[v63] and ( not v12.activePlayerArrows[v63].ArrowImageLabel or  not v12.activePlayerArrows[v63].ArrowImageLabel.Parent)) then v12.activePlayerArrows[v63]=nil;end else local v115=0 -0 ;local v116;while true do if (v115==(1 + 0)) then v12.activePlayerArrows[v63]=nil;break;end if (v115==(0 + 0)) then v116=v12.activePlayerArrows[v63];if (v116 and v116.ArrowImageLabel) then v116.ArrowImageLabel:Destroy();end v115=886 -(261 + 624) ;end end end end;v3.Enable=function(v65) if (v12.isInitialized and v12.isEnabled) then return;end v12.isEnabled=true;if  not v12.isInitialized then if  not v8 then v8=workspace.CurrentCamera;end if  not v8 then local v150=0 -0 ;while true do if (v150==(1080 -(1020 + 60))) then warn(v4   .. ": Камера не найдена!" );v12.isEnabled=false;v150=1424 -(630 + 793) ;end if (v150==(3 -2)) then return;end end end if  not v7 then local v151=0;while true do if (1==v151) then return;end if (v151==(0 -0)) then warn(v4   .. ": Локальный игрок не найден!" );v12.isEnabled=false;v151=1;end end end v65:CreateScreenGui_Internal();if  not v12.screenGui then local v152=0 + 0 ;while true do if (v152==(0 -0)) then v12.isEnabled=false;return;end end end for v143,v144 in ipairs(v5:GetPlayers()) do v65:ManagePlayer_Internal(v144,true);end if (v12.playerAddedConn and v12.playerAddedConn.Connected) then v12.playerAddedConn:Disconnect();end v12.playerAddedConn=v5.PlayerAdded:Connect(function(v145) v65:ManagePlayer_Internal(v145,true);end);if (v12.playerRemovingConn and v12.playerRemovingConn.Connected) then v12.playerRemovingConn:Disconnect();end v12.playerRemovingConn=v5.PlayerRemoving:Connect(function(v146) v65:ManagePlayer_Internal(v146,false);end);v12.isInitialized=true;end if  not (v12.runConnection and v12.runConnection.Connected) then v12.runConnection=v6.RenderStepped:Connect(function() v65:UpdateArrows_Internal();end);end if v12.screenGui then v12.screenGui.Enabled=true;end end;v3.Disable=function(v67) if  not v12.isEnabled then return;end v12.isEnabled=false;if v12.screenGui then v12.screenGui.Enabled=false;end end;v3.UpdateSetting=function(v69,v70,v71) local v72=0;while true do if (v72==(1747 -(760 + 987))) then if (v10[v70]==nil) then local v156=0;while true do if (v156==(1913 -(1789 + 124))) then warn(v4   .. ": Неизвестная настройка:" ,v70);return;end end end v10[v70]=v71;v72=767 -(745 + 21) ;end if (v72==(1 + 0)) then if (v12.isEnabled and ((v70=="ArrowBaseSizeXY") or (v70=="ArrowTransparency") or (v70=="ARROW_IMAGE_ID"))) then for v165,v166 in pairs(v12.activePlayerArrows) do if (v166.ArrowImageLabel and v166.ArrowImageLabel.Visible) then if (v70=="ArrowTransparency") then v166.ArrowImageLabel.ImageTransparency=v10.ArrowTransparency;end if (v70=="ARROW_IMAGE_ID") then v166.ArrowImageLabel.Image=v10.ARROW_IMAGE_ID;end end end end break;end end end;v3.Destroy=function(v73) if ( not v12.isInitialized and  not v12.isEnabled) then return;end if v12.runConnection then v12.runConnection:Disconnect();v12.runConnection=nil;end if v12.playerAddedConn then v12.playerAddedConn:Disconnect();v12.playerAddedConn=nil;end if v12.playerRemovingConn then v12.playerRemovingConn:Disconnect();v12.playerRemovingConn=nil;end for v108,v109 in pairs(v12.activePlayerArrows) do if v109.ArrowImageLabel then v109.ArrowImageLabel:Destroy();end end v12.activePlayerArrows={};if v12.screenGui then local v126=0 -0 ;while true do if (v126==(0 -0)) then v12.screenGui:Destroy();v12.screenGui=nil;break;end end end v12.isInitialized=false;v12.isEnabled=false;v0.ExecutorPlayerArrows=nil;v0.ExecutorPlayerArrows_Instance=nil;end;v0.ExecutorPlayerArrows_Instance=v3;if  not v8 then v8=workspace.CurrentCamera;end
