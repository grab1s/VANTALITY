local v0=(getgenv and getgenv()) or _G ;if (v0.Vantality and v0.Vantality.Unload) then local v87=0;while true do if (v87==0) then v0.Vantality.Unload();task.wait(0.1);break;end end end v0.VantalityLoaded=true;local v2=game:GetService("Players");local v3=game:GetService("HttpService");local v4=game:GetService("CoreGui");local v5=game:GetService("Workspace");local v6=v2.LocalPlayer;v0.VantalityState={Enabled=false,TargetUsername="",IsBusy=false,Connections={},ProcessedImages={}};local v8="VANTALITY_ASSETS_CACHE_RELEASE";local v9=v4:FindFirstChild(v8);if  not v9 then local v88=0 + 0 ;while true do if (v88==(4 -3)) then v9.Parent=v4;break;end if (v88==(0 -0)) then v9=Instance.new("Folder");v9.Name=v8;v88=1207 -(696 + 510) ;end end end local v10=request or http_request or (http and http.request) or (syn and syn.request) or (fluxus and fluxus.request) ;local function v11(v26) local v27=0;while true do if (v27==(0 -0)) then if (v26:IsA("BasePart") or v26:IsA("Decal")) then v26.Transparency=1;end for v123,v124 in pairs(v26:GetDescendants()) do if (v124:IsA("BasePart") or v124:IsA("Decal")) then v124.Transparency=1263 -(1091 + 171) ;end end break;end end end local function v12(v28) local v29=0;while true do if (v29==(0 + 0)) then if (v28:IsA("BasePart") or v28:IsA("Decal")) then v28.Transparency=0 -0 ;end for v125,v126 in pairs(v28:GetDescendants()) do if (v126:IsA("BasePart") or v126:IsA("Decal")) then v126.Transparency=0 -0 ;end end break;end end end local function v13(v30,v31) local v32=374 -(123 + 251) ;local v33;local v34;local v35;local v36;local v37;while true do if (v32==2) then v36=false;v37=0;v32=14 -11 ;end if (v32==4) then return nil;end if (v32==(699 -(208 + 490))) then if v34 then return v34:Clone();end v35=nil;v32=1 + 1 ;end if (v32==(0 + 0)) then v33=tostring(v30)   .. "_"   .. tostring(v31) ;v34=v9:FindFirstChild(v33);v32=1;end if (v32==(839 -(660 + 176))) then while  not v36 and (v37<3)  do local v127=0 + 0 ;while true do if ((202 -(14 + 188))==v127) then v36,v35=pcall(function() return game:GetObjects("rbxassetid://"   .. v30 );end);if ( not v36 or  not v35) then local v198=675 -(534 + 141) ;while true do if ((0 + 0)==v198) then v37=v37 + 1 + 0 ;task.wait(0.2 + 0 );break;end end end break;end end end if (v35 and ( #v35>(0 -0))) then local v150=v35[1 -0 ];if v150:IsA("Model") then local v183=v150:FindFirstChildWhichIsA("Accessory") or v150:FindFirstChildWhichIsA("Clothing") or v150:FindFirstChildWhichIsA("ShirtGraphic") or v150:FindFirstChildWhichIsA("Decal") ;if v183 then v150=v183;end end v150.Name=v33;v150.Parent=v9;return v150:Clone();end v32=11 -7 ;end end end local v14={HatAttachment={Part="Head",C0=CFrame.new(0 + 0 ,0.6 + 0 ,396 -(115 + 281) )},HairAttachment={Part="Head",C0=CFrame.new(0 -0 ,0.6 + 0 ,0 -0 )},FaceFrontAttachment={Part="Head",C0=CFrame.new(0 -0 ,0, -0.6)},FaceCenterAttachment={Part="Head",C0=CFrame.new(867 -(550 + 317) ,0,0 -0 )},NeckAttachment={Part="Torso",C0=CFrame.new(0 -0 ,2 -1 ,0)},BodyFrontAttachment={Part="Torso",C0=CFrame.new(285 -(134 + 151) ,0, -0.5)},BodyBackAttachment={Part="Torso",C0=CFrame.new(1665 -(970 + 695) ,0 -0 ,1990.5 -(582 + 1408) )},WaistBackAttachment={Part="Torso",C0=CFrame.new(0 -0 , -(0.5 -0),0.5 -0 )},WaistFrontAttachment={Part="Torso",C0=CFrame.new(0, -(1824.5 -(1195 + 629)), -(0.5 -0))},WaistCenterAttachment={Part="Torso",C0=CFrame.new(241 -(187 + 54) , -(781 -(162 + 618)),0 + 0 )},RightShoulderAttachment={Part="Torso",C0=CFrame.new(1,0.5,0 + 0 )},LeftShoulderAttachment={Part="Torso",C0=CFrame.new( -1,0.5 -0 ,0 -0 )},RightGripAttachment={Part="Right Arm",C0=CFrame.new(0 + 0 , -(1637 -(1373 + 263)),1000 -(451 + 549) )}};local function v15(v38,v39) local v40=0;local v41;local v42;local v43;local v44;while true do if ((1 + 1)==v40) then v43.Name="VantalityWeld";v44=nil;if (v42 and v14[v42.Name]) then v44=v14[v42.Name];elseif (v42 and (v42.Name:find("Back") or v42.Name:find("Wing"))) then v44=v14['BodyBackAttachment'];end if v44 then local v154=0 -0 ;local v155;while true do if (v154==0) then v155=v38:FindFirstChild(v44.Part) or v38:FindFirstChild("Torso") or v38:FindFirstChild("Head") ;if v155 then local v211=0 -0 ;while true do if (v211==0) then v43.Part0=v155;v43.C0=v44.C0;v211=1;end if (v211==1) then if v42 then v43.C1=v42.CFrame;end break;end end end break;end end else local v156=v38:FindFirstChild("FakeHead") or v38:FindFirstChild("Head") ;if v156 then local v185=1384 -(746 + 638) ;while true do if (v185==(0 + 0)) then v43.Part0=v156;v43.C0=CFrame.new(0 -0 ,341.5 -(218 + 123) ,1581 -(1535 + 46) );break;end end end end v40=3 + 0 ;end if ((1 + 2)==v40) then if v43.Part0 then local v157=560 -(306 + 254) ;while true do if (v157==(0 + 0)) then v43.Part1=v41;v43.Parent=v43.Part0;break;end end else local v158=0;local v159;while true do if (v158==(0 -0)) then v159=v38:FindFirstChild("Head");if v159 then v43.Part0=v159;v43.Part1=v41;v43.C0=CFrame.new(0,0.5,1467 -(899 + 568) );v43.Parent=v159;end break;end end end break;end if (v40==(1 + 0)) then v41.CanCollide=false;v39.Parent=v38;v42=v41:FindFirstChildOfClass("Attachment");v43=Instance.new("Weld");v40=4 -2 ;end if (v40==(603 -(268 + 335))) then v41=v39:FindFirstChild("Handle");if  not v41 then return;end for v128,v129 in pairs(v39:GetDescendants()) do if (v129:IsA("Script") or v129:IsA("LocalScript")) then v129:Destroy();end end v41.Anchored=false;v40=291 -(60 + 230) ;end end end local function v16(v45) local v46=572 -(426 + 146) ;local v47;local v48;local v49;local v50;local v51;local v52;local v53;while true do if (v46==(1 + 2)) then v52=nil;function v52(v130,v131) local v132=0;while true do if (v132==(1457 -(282 + 1174))) then v130.Parent=v47;v11(v130);break;end if (v132==(811 -(569 + 242))) then if  not v130 then return;end if v131 then v130:SetAttribute("VantalityOrigin",v131);end v132=2 -1 ;end end end for v133,v134 in pairs(v45:GetChildren()) do if (v134:IsA("Accessory") or v134:IsA("Clothing") or v134:IsA("BodyColors") or v134:IsA("ShirtGraphic")) then v52(v134,"Character");end end v53=v45:FindFirstChild("FakeHead");v46=1 + 3 ;end if ((1025 -(706 + 318))==v46) then v48={};v49={};v50={"Head","FakeHead","Torso","Left Arm","Right Arm","Left Leg","Right Leg"};for v135,v136 in pairs(v50) do local v137=0;local v138;while true do if (v137==0) then v138=v45:FindFirstChild(v136);if (v138 and v138:IsA("BasePart")) then v49[v136]=v138.Color;end break;end end end v46=702 -(271 + 429) ;end if (v46==(4 + 0)) then if v53 then local v160=0;while true do if (v160==0) then if v53:IsA("MeshPart") then v0.VantalityState[v45].OriginalFakeHeadTex=v53.TextureID;v53.TextureID="";end for v201,v202 in pairs(v53:GetChildren()) do local v203=1500 -(1408 + 92) ;local v204;local v205;while true do if (v203==(1087 -(461 + 625))) then if (v204:find("#ACCESSORY") or v204:find("Pal Hair") or v205:find("hair") or v205:find("hat") or v202:IsA("Accessory") or v202:IsA("Decal")) then v52(v202,"FakeHead");end break;end if (v203==(1288 -(993 + 295))) then v204=v202.Name;v205=v204:lower();v203=1 + 0 ;end end end break;end end end if v51 then for v173,v174 in pairs(v51:GetChildren()) do if v174:IsA("Decal") then v52(v174,"Head");end end end break;end if (v46==(1173 -(418 + 753))) then v48.OriginalColors=v49;v51=v45:FindFirstChild("Head");if v51 then local v161=0;local v162;while true do if (v161==(0 + 0)) then v162=v51:FindFirstChild("Mesh");if (v162 and (v162:IsA("SpecialMesh") or v162:IsA("BlockMesh"))) then v48.OriginalFace=v162.TextureId;end break;end end end v0.VantalityState[v45]=v48;v46=1 + 2 ;end if (v46==(0 + 0)) then if v45:FindFirstChild("Vantality_Backup") then return;end v47=Instance.new("Folder");v47.Name="Vantality_Backup";v47.Parent=v45;v46=1 + 0 ;end end end local function v17(v54) local v55=529 -(406 + 123) ;local v56;local v57;local v58;while true do if (v55==0) then if  not v54 then return;end for v139,v140 in pairs(v54:GetDescendants()) do if v140:GetAttribute("VantalityItem") then v140:Destroy();end end v55=1770 -(1749 + 20) ;end if (v55==(1 + 1)) then v57=v0.VantalityState[v54];if v57 then local v163=1322 -(1249 + 73) ;while true do if (v163==(0 + 0)) then if v57.OriginalColors then for v228,v229 in pairs(v57.OriginalColors) do local v230=0;local v231;while true do if (v230==0) then v231=v54:FindFirstChild(v228);if (v231 and v231:IsA("BasePart")) then v231.Color=v229;end break;end end end end if v57.OriginalFace then local v222=1145 -(466 + 679) ;local v223;while true do if (v222==(0 -0)) then v223=v54:FindFirstChild("Head");if (v223 and v223:FindFirstChild("Mesh")) then v223.Mesh.TextureId=v57.OriginalFace;end break;end end end v163=1;end if (v163==(2 -1)) then if v57.OriginalFakeHeadTex then local v224=1900 -(106 + 1794) ;local v225;while true do if (0==v224) then v225=v54:FindFirstChild("FakeHead");if (v225 and v225:IsA("MeshPart")) then v225.TextureID=v57.OriginalFakeHeadTex;end break;end end end break;end end end v55=1 + 2 ;end if (v55==(1 + 0)) then v56=v54:FindFirstChild("Vantality_Backup");if v56 then for v175,v176 in pairs(v56:GetChildren()) do local v177=v176:GetAttribute("VantalityOrigin");v12(v176);if (v177=="FakeHead") then local v195=0;local v196;while true do if ((0 -0)==v195) then v196=v54:FindFirstChild("FakeHead");if v196 then v176.Parent=v196;end break;end end elseif (v177=="Head") then local v226=v54:FindFirstChild("Head");if v226 then v176.Parent=v226;end else v176.Parent=v54;end end v56:Destroy();end v55=5 -3 ;end if (v55==3) then v58=v54:FindFirstChild("Humanoid");if v58 then v58.DisplayName=v6.DisplayName;end break;end end end local function v18(v59) if  not v0.VantalityState.Enabled then return;end if v0.VantalityState.IsBusy then return;end v0.VantalityState.IsBusy=true;local v61=v0.VantalityState.TargetUsername;if (v61=="") then local v93=114 -(4 + 110) ;while true do if (v93==(584 -(57 + 527))) then v0.VantalityState.IsBusy=false;return;end end end local v62=v59:WaitForChild("Humanoid",1437 -(41 + 1386) );if  not v62 then local v94=103 -(17 + 86) ;while true do if (v94==0) then v0.VantalityState.IsBusy=false;return;end end end v16(v59);local v63=v0.VantalityState[v59];if (v63 and v63.OriginalFace) then local v95=0 + 0 ;local v96;while true do if ((0 -0)==v95) then v96=v59:FindFirstChild("Head");if (v96 and v96:FindFirstChild("Mesh")) then v96.Mesh.TextureId=v63.OriginalFace;end break;end end end for v89,v90 in pairs(v59:GetDescendants()) do if v90:GetAttribute("VantalityItem") then v90:Destroy();end end local v64,v65=pcall(function() return v2:GetUserIdFromNameAsync(v61);end);if  not v64 then local v97=0;while true do if (v97==0) then v0.VantalityState.IsBusy=false;return;end end end local v66,v67=nil,false;local v68=0 -0 ;while  not v67 and (v68<3)  do v66=v10({Url="https://avatar.roblox.com/v1/users/"   .. v65   .. "/avatar" ,Method="GET"});if (v66 and (v66.StatusCode==(366 -(122 + 44)))) then v67=true;else local v112=0 -0 ;while true do if (v112==0) then v68=v68 + (3 -2) ;task.wait(0.5 + 0 );break;end end end end if  not v67 then warn("[Vantality] Failed to fetch avatar data for "   .. v61 );v0.VantalityState.IsBusy=false;return;end local v69=v3:JSONDecode(v66.Body);if v69.bodyColors then local v99=0 + 0 ;local v100;local v101;local v102;while true do if (v99==(3 -1)) then for v178,v179 in pairs(v102) do local v180=0;local v181;while true do if (v180==0) then v181=v59:FindFirstChild(v178);if (v181 and v181:IsA("BasePart")) then local v232=65 -(30 + 35) ;while true do if (v232==(0 + 0)) then v181.Color=v179;if v181:IsA("MeshPart") then v181.TextureID="";end break;end end end break;end end end break;end if (v99==1) then v101={Head=v100(v69.bodyColors.headColorId),Torso=v100(v69.bodyColors.torsoColorId),LeftArm=v100(v69.bodyColors.leftArmColorId),RightArm=v100(v69.bodyColors.rightArmColorId),LeftLeg=v100(v69.bodyColors.leftLegColorId),RightLeg=v100(v69.bodyColors.rightLegColorId)};v102={Head=v101.Head,FakeHead=v101.Head,Torso=v101.Torso,["Left Arm"]=v101.LeftArm,["Right Arm"]=v101.RightArm,["Left Leg"]=v101.LeftLeg,["Right Leg"]=v101.RightLeg};v99=1259 -(1043 + 214) ;end if (v99==(0 -0)) then v100=nil;function v100(v182) return BrickColor.new(v182).Color;end v99=1;end end end if v69.assets then for v113,v114 in pairs(v69.assets) do local v115=v114.id;local v116=tostring(v114.assetType.name);task.spawn(function() local v141=1212 -(323 + 889) ;local v142;while true do if (v141==0) then v142=nil;if (v116=="Face") then local v206=v13(v115,"Face");if v206 then local v233=v59:FindFirstChild("Head");if (v233 and v233:FindFirstChild("Mesh")) then v233.Mesh.TextureId=v206.Texture;end end return;end v141=2 -1 ;end if (v141==(581 -(361 + 219))) then if ((v116=="Shirt") or (v116=="Pants") or (v116=="TShirt")) then local v207=0;while true do if ((320 -(53 + 267))==v207) then v142=v13(v115,v116);if v142 then v142.Parent=v59;end break;end end elseif  not (v116:find("Jacket") or v116:find("Sweater") or v116:find("Shoe") or v116:find("Dress") or v116:find("Skirt") or v116:find("Shorts")) then local v234=0 + 0 ;while true do if (0==v234) then v142=v13(v115,v116);if (v142 and v142:IsA("Accessory")) then v15(v59,v142);end break;end end end if v142 then v142:SetAttribute("VantalityItem",true);end break;end end end);end end v62.DisplayName=v61;v0.VantalityState.IsBusy=false;end local function v19() local v71=0;local v72;local v73;while true do if (v71==(413 -(15 + 398))) then if v0.VantalityState.AvatarReplacerInit then return;end v0.VantalityState.AvatarReplacerInit=true;v71=983 -(18 + 964) ;end if (v71==(7 -5)) then v73={v4,v6:FindFirstChild("PlayerGui")};for v143,v144 in pairs(v73) do if v144 then for v189,v190 in pairs(v144:GetDescendants()) do if (v190:IsA("ImageLabel") or v190:IsA("ImageButton")) then task.spawn(v72,v190);end end v144.DescendantAdded:Connect(function(v191) if (v191:IsA("ImageLabel") or v191:IsA("ImageButton")) then v72(v191);end end);end end break;end if (v71==(1 + 0)) then v72=nil;function v72(v145) local v146=0;local v147;while true do if ((0 + 0)==v146) then if ( not v145:IsA("ImageLabel") and  not v145:IsA("ImageButton")) then return;end if ( not v0.VantalityState.Enabled or (v0.VantalityState.TargetUsername=="")) then return;end v146=851 -(20 + 830) ;end if (v146==(2 + 0)) then if (v147:find("Avatar") or v147:find("HeadShot") or v147:find("rbxthumb")) then local v208=126 -(116 + 10) ;local v209;local v210;while true do if (v208==(1 + 0)) then pcall(function() v210=tostring(v2:GetUserIdFromNameAsync(v0.VantalityState.TargetUsername));end);if (v210 and (v147:find(v209) or v147:find(v210))) then local v245=738 -(542 + 196) ;local v246;while true do if (v245==(0 -0)) then v246="rbxthumb://type=AvatarHeadShot&id="   .. v210   .. "&w=420&h=420&isCircular=false" ;if (v145.Image~=v246) then v145.Image=v246;end break;end end end break;end if (v208==0) then v209=tostring(v6.UserId);v210=nil;v208=1;end end end break;end if (v146==(1 + 0)) then v147=tostring(v145.Image);if (v147:find("420&h=420") and v147:find("AvatarHeadShot")) then return;end v146=2 + 0 ;end end end v71=1 + 1 ;end end end local function v20(v74) if  not v0.VantalityState.Enabled then return;end local v75=v74:WaitForChild("HumanoidRootPart",10);local v76=0 -0 ;while v76<(12 -7)  do if (v5:FindFirstChild("Live") and v74:IsDescendantOf(v5.Live)) then break;end v76=v76 + (1551.2 -(1126 + 425)) ;task.wait(0.2);end task.wait(0.5);v18(v74);end v0.Vantality={};v0.Vantality.SetUsername=function(v77) local v78=405 -(118 + 287) ;while true do if (v78==(0 -0)) then v0.VantalityState.TargetUsername=v77;if v0.VantalityState.Enabled then local v169=1121 -(118 + 1003) ;local v170;while true do if (v169==(0 -0)) then v170=v6.Character;if v170 then v18(v170);end break;end end end break;end end end;v0.Vantality.Toggle=function(v79) local v80=377 -(142 + 235) ;local v81;while true do if ((4 -3)==v80) then if  not v81 then return;end if v79 then v18(v81);else v17(v81);end break;end if (v80==(0 + 0)) then v0.VantalityState.Enabled=v79;v81=v6.Character;v80=978 -(553 + 424) ;end end end;v0.Vantality.Unload=function() v0.VantalityState.Enabled=false;v0.VantalityLoaded=false;local v84=v6.Character;if v84 then v17(v84);end for v91,v92 in pairs(v0.VantalityState.Connections) do v92:Disconnect();end v0.Vantality=nil;v0.VantalityState=nil;end;v19();local v25=v6.CharacterAdded:Connect(v20);table.insert(v0.VantalityState.Connections,v25);if v6.Character then v20(v6.Character);end if StarterGui then pcall(function() StarterGui:SetCore("SendNotification",{Title="Vantality API",Text="Ready (Optimized)",Duration=3});end);end
